{
	"info": {
		"_postman_id": "7d9b3e1f-1c4b-4f9e-b9e7-5e6a0d014f3c",
		"name": "Alpescab API - MongoDB",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Registrar Service User (POST /service-users)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"Maria La Cliente\",\n    \"email\": \"maria.cliente@alpescab.com\",\n    \"phone\": \"3001230001\",\n    \"nationalId\": \"100010001\",\n    \"paymentMethods\": [\n        {\n            \"cardNumber\": \"1234567890123456\",\n            \"cardHolderName\": \"MARIA C. LA CLIENTE\",\n            \"expiration\": \"12/26\",\n            \"cvv\": \"123\"\n        }\n    ]\n}"
				},
				"url": {
					"raw": "http://localhost:8080/api/service-users",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"service-users"
					]
				},
				"description": "Crea un nuevo usuario de servicio. Copia el 'id' de la respuesta para el paso de solicitud de viaje."
			},
			"response": []
		},
		{
			"name": "2. Registrar Driver (POST /drivers)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"Pedro El Chofer\",\n    \"email\": \"pedro.chofer@alpescab.com\",\n    \"phone\": \"3009876543\",\n    \"nationalId\": \"200020002\"\n}"
				},
				"url": {
					"raw": "http://localhost:8080/api/drivers",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"drivers"
					]
				},
				"description": "Crea un nuevo conductor. Copia el 'id' de la respuesta para el paso de registrar vehículo y disponibilidad."
			},
			"response": []
		},
		{
			"name": "3. Registrar Vehicle (POST /vehicles)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"driverId\": \"<<ID_DEL_CONDUCTOR>>\",\n    \"type\": \"CAR\",\n    \"brand\": \"Renault\",\n    \"model\": \"Duster\",\n    \"color\": \"Blanco\",\n    \"plate\": \"ABC123\",\n    \"plateCity\": \"Bogota\",\n    \"capacity\": 5,\n    \"level\": \"STANDARD\"\n}"
				},
				"url": {
					"raw": "http://localhost:8080/api/vehicles",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"vehicles"
					]
				},
				"description": "Crea un nuevo vehículo. **REEMPLAZA <<ID_DEL_CONDUCTOR>>**. Copia el 'id' de la respuesta para el paso de disponibilidad."
			},
			"response": []
		},
		{
			"name": "4. Registrar Availability (POST /availabilities)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"driverId\": \"<<ID_DEL_CONDUCTOR>>\",\n    \"vehicleId\": \"<<ID_DEL_VEHICULO>>\",\n    \"serviceType\": \"TAXI\",\n    \"dayOfWeek\": \"LUNES\",\n    \"startTime\": \"08:00\",\n    \"endTime\": \"18:00\"\n}"
				},
				"url": {
					"raw": "http://localhost:8080/api/availabilities",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"availabilities"
					]
				},
				"description": "Registra una disponibilidad para el conductor y vehículo. **REEMPLAZA <<ID_DEL_CONDUCTOR>> y <<ID_DEL_VEHICULO>>**."
			},
			"response": []
		},
		{
			"name": "5. Update Availability (PUT /availabilities/{id})",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"driverId\": \"<<ID_DEL_CONDUCTOR>>\",\n    \"vehicleId\": \"<<ID_DEL_VEHICULO>>\",\n    \"serviceType\": \"TAXI\",\n    \"dayOfWeek\": \"LUNES\",\n    \"startTime\": \"09:00\",\n    \"endTime\": \"17:00\"\n}"
				},
				"url": {
					"raw": "http://localhost:8080/api/availabilities/<<ID_DE_DISPONIBILIDAD>>",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"availabilities",
						"<<ID_DE_DISPONIBILIDAD>>"
					]
				},
				"description": "Actualiza una disponibilidad existente. **REEMPLAZA <<ID_DE_DISPONIBILIDAD>>** en la URL y los IDs en el cuerpo si es necesario."
			},
			"response": []
		},
		{
			"name": "6. Request Trip (POST /trips/request)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"serviceUserId\": \"<<ID_DEL_USUARIO>>\",\n    \"serviceType\": \"TAXI\",\n    \"level\": \"STANDARD\",\n    \"startPoint\": {\n        \"name\": \"Universidad de los Andes\",\n        \"address\": \"Carrera 1 Este # 19-27\",\n        \"city\": \"Bogota\",\n        \"latitude\": 4.6000,\n        \"longitude\": -74.0750\n    },\n    \"endPoints\": [\n        {\n            \"name\": \"Centro Comercial Andino\",\n            \"address\": \"Carrera 11 # 82-71\",\n            \"city\": \"Bogota\",\n            \"latitude\": 4.6680,\n            \"longitude\": -74.0530\n        }\n    ],\n    \"distanceKm\": 5.2,\n    \"pricePerKm\": 5000.0\n}"
				},
				"url": {
					"raw": "http://localhost:8080/api/trips/request",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"trips",
						"request"
					]
				},
				"description": "Solicita un nuevo viaje. **REEMPLAZA <<ID_DEL_USUARIO>>**. Copia el 'id' de la respuesta para el paso de terminar viaje."
			},
			"response": []
		},
		{
			"name": "7. Finish Trip (POST /trips/{id}/finish)",
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/api/trips/<<ID_DEL_VIAJE>>/finish?distanceKm=5.5",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"trips",
						"<<ID_DEL_VIAJE>>",
						"finish"
					],
					"query": [
						{
							"key": "distanceKm",
							"value": "5.5",
							"description": "La distancia final real del viaje en kilómetros."
						}
					]
				},
				"description": "Finaliza un viaje. **REEMPLAZA <<ID_DEL_VIAJE>>** en la URL con el ID del viaje solicitado y ajusta `distanceKm`."
			},
			"response": []
		},
		{
			"name": "8. Get User Trips (GET /users/{id}/trips)",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost:8080/api/users/<<ID_DEL_USUARIO>>/trips",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"users",
						"<<ID_DEL_USUARIO>>",
						"trips"
					]
				},
				"description": "Obtiene todos los viajes realizados por un usuario. **REEMPLAZA <<ID_DEL_USUARIO>>**."
			},
			"response": []
		},
		{
			"name": "9. Get Top Drivers (GET /drivers/top)",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/api/drivers/top",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"drivers",
						"top"
					]
				},
				"description": "Obtiene la lista de los 20 conductores con más viajes."
			},
			"response": []
		},
		{
			"name": "10. Get Service Usage Stats (GET /stats/usage)",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost:8080/api/stats/usage?city=Bogota&from=2025-01-01T00:00:00&to=2025-12-31T23:59:59",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"api",
						"stats",
						"usage"
					],
					"query": [
						{
							"key": "city",
							"value": "Bogota"
						},
						{
							"key": "from",
							"value": "2025-01-01T00:00:00",
							"description": "Formato: YYYY-MM-DDTHH:MM:SS (ISO 8601)"
						},
						{
							"key": "to",
							"value": "2025-12-31T23:59:59",
							"description": "Formato: YYYY-MM-DDTHH:MM:SS (ISO 8601)"
						}
					]
				},
				"description": "Obtiene estadísticas de uso de servicios por ciudad y rango de fechas. Asegúrate de ajustar las fechas 'from' y 'to' a un rango donde tengas viajes registrados."
			},
			"response": []
		}
	]
}